<tool id="retrorules" name="RetroRules" version="0.1">
  <description>RetroRules reaction rules</description>
  <requirements>
    <requirement type="package" version="1.0.9">retrorules</requirement>
  </requirements>
  <stdio>
    <regex match="WARNING:" level="warning" />
	  <regex match="ERROR:" level="error" />
  </stdio>
  <command detect_errors="exit_code"><![CDATA[
    '$__tool_directory__/run.py' '$rule_type' '$output' --diameters '$diameters' --output_format '$output_format'
  ]]></command>
  <inputs>
    <param name="rule_type" type="select" label="Rules Type">
      <option value="retro" selected="True">Retro</option>
      <option value="forward">Forward</option>
      <option value="all">All</option>
    </param>
    <param name="diameters" type="select" display="checkboxes" multiple="True" label="Select the diameters of the reactions rules">
      <option selected="true" value="2">2</option>
      <option selected="true" value="4">4</option>
      <option selected="true" value="6">6</option>
      <option selected="true" value="8">8</option>
      <option selected="true" value="10">10</option>
      <option selected="true" value="12">12</option>
      <option selected="true" value="14">14</option>
      <option selected="true" value="16">16</option>
    </param>
    <param name="output_format" type="select" label="Output format">
      <option value="csv">csv</option>
      <option value="tar" selected="True">tar.gz</option>
    </param>
  </inputs>
  <outputs>
    <data name="output" format="csv" label="${tool.name}-$rule_type d=$diameters" >
      <change_format>
        <when input="output_format" value="tar" format="tar"/>
      </change_format>
    </data>
  </outputs>
  <help><![CDATA[
RetroRules
==========

Retrieve the reaction rules from `RetroRules <https://retrorules.org/>`_

Input
-----

* **-rule_type**: (string) Valid options: retro, forward, all. Return the rules that are in reverse, forward or both direction
* **-diameters**: (integer list): Valid options: 2, 4, 6, 8, 10, 12, 14, 16. The diameter of the rules to return
* **-output_format**: (string) Valid options: tar.gz, csv. Format output

Ouput
-----

* **-output**: (string): Path of the output file. Either a compressed tar.gz (containing a csv) or csv list of reaction rules that are in a RetroPath2.0 friendly format


Version
-------

v0.1

Authors
-------


* **Thomas Duigou**
* Melchior du Lac
* Joan Hérisson

License
-------

This project is licensed under the MIT License - see the `LICENSE <LICENSE>`_ file for details

Acknowledgments
---------------

* Joan Hérisson

]]></help>
</tool>
